extends layout

block content
    h1= title
    div(class="table-filters")
        block filters

    table(id=title.toLowerCase().replace(" ", "-"), class="stocks-table")
        thead
            tr
                block table-stock-headers
                  each header in Object.keys(headers)
                      th(class=`col--${header.toLowerCase()}`) #{header}
        tbody
            block table-stock-body
              each product in products
                  tr
                    each prop in Object.entries(headers)
                        -let tdContent = product[prop[1]]
                        -let tdTitle = null;
                        -if (prop[0].toLowerCase() === 'name' && tdContent.includes("(")) {[tdContent, tdTitle] = tdContent.split("("); tdTitle = tdTitle.replace(")", "")}
                        td(class=`col--${prop[0].toLowerCase()}` title=`${tdTitle ? tdTitle : ''}`) #{tdContent}
